{"version":3,"file":"tempus.js","sources":["../src/index.js"],"sourcesContent":["class Tempus {\r\n  constructor() {\r\n    this.callbacks = []\r\n    this.now = performance.now()\r\n    requestAnimationFrame(this.raf)\r\n  }\r\n\r\n  add(callback, priority = 0) {\r\n    this.callbacks.push({ callback, priority })\r\n    this.callbacks.sort((a, b) => a.priority - b.priority)\r\n\r\n    return () => this.remove(callback)\r\n  }\r\n\r\n  remove(callback) {\r\n    this.callbacks = this.callbacks.filter(({ callback: cb }) => callback !== cb)\r\n  }\r\n\r\n  raf = (now) => {\r\n    requestAnimationFrame(this.raf)\r\n\r\n    const deltaTime = now - this.now\r\n    this.now = now\r\n\r\n    for (let i = 0; i < this.callbacks.length; i++) {\r\n      this.callbacks[i].callback(now, deltaTime)\r\n    }\r\n  }\r\n}\r\n\r\nconst isClient = typeof window !== 'undefined'\r\n\r\nexport default isClient && new Tempus()\r\n"],"names":["isClient","window","Tempus","_this","this","raf","now","requestAnimationFrame","deltaTime","i","callbacks","length","callback","performance","_proto","prototype","add","priority","_this2","push","sort","a","b","remove","filter","_ref"],"mappings":"IAgCeA,EAFoB,oBAAXC,QAEG,iBA/BzB,WAAA,SAAAC,QAAcC,EAAAC,KAAAA,KAiBdC,IAAM,SAACC,GACLC,sBAAsBJ,EAAKE,KAE3B,IAAMG,EAAYF,EAAMH,EAAKG,IAC7BH,EAAKG,IAAMA,EAEX,IAAK,IAAIG,EAAI,EAAGA,EAAIN,EAAKO,UAAUC,OAAQF,IACzCN,EAAKO,UAAUD,GAAGG,SAASN,EAAKE,EAEpC,EAzBEJ,KAAKM,UAAY,GACjBN,KAAKE,IAAMO,YAAYP,MACvBC,sBAAsBH,KAAKC,IAC7B,CAAC,IAAAS,EAAAZ,EAAAa,UAWAb,OAXAY,EAEDE,IAAA,SAAIJ,EAAUK,GAAc,IAAAC,EAAdD,KAIZ,YAJYA,IAAAA,IAAAA,EAAW,GACvBb,KAAKM,UAAUS,KAAK,CAAEP,SAAAA,EAAUK,SAAAA,IAChCb,KAAKM,UAAUU,KAAK,SAACC,EAAGC,UAAMD,EAAEJ,SAAWK,EAAEL,QAAQ,GAExC,WAAA,OAAAC,EAAKK,OAAOX,EAAS,CACpC,EAACE,EAEDS,OAAA,SAAOX,GACLR,KAAKM,UAAYN,KAAKM,UAAUc,OAAO,SAAAC,GAAsB,OAAAb,IAAPa,EAAZb,QAAkC,EAC9E,EAACV,CAAA,CAfD"}