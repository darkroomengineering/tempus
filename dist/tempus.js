var t=0,i=/*#__PURE__*/function(){function i(t){void 0===t&&(t=Infinity),this.callbacks=[],this.fps=t,this.now=performance.now(),this.lastTickDate=performance.now()}var r,e,n=i.prototype;return n.dispatch=function(t,i){for(var r=0;r<this.callbacks.length;r++)this.callbacks[r].callback(t,i)},n.raf=function(t,i){if(this.now+=i,Infinity===this.fps)this.dispatch(t,i);else if(this.now>=this.executionTime){this.now=this.now%this.executionTime;var r=t-this.lastTickDate;this.lastTickDate=t,this.dispatch(t,r)}},n.add=function(i){var r=this,e=t++;return this.callbacks.push({callback:i.callback,priority:i.priority,uid:e}),this.callbacks.sort(function(t,i){return t.priority-i.priority}),function(){return r.remove(e)}},n.remove=function(t){this.callbacks=this.callbacks.filter(function(i){return t!==i.uid})},r=i,(e=[{key:"executionTime",get:function(){return 1e3/this.fps}}])&&function(t,i){for(var r=0;r<i.length;r++){var e=i[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,"symbol"==typeof(n=function(t,i){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var e=r.call(t,"string");if("object"!=typeof e)return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(e.key))?n:String(n),e)}var n}(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),i}(),r=/*#__PURE__*/function(){function t(){var t=this;this.raf=function(i){requestAnimationFrame(t.raf,!0);var r=i-t.now;t.now=i;for(var e=0,n=Object.values(t.framerates);e<n.length;e++)n[e].raf(i,r)},this.framerates={},this.now=performance.now(),requestAnimationFrame(this.raf)}var r=t.prototype;return r.add=function(t,r){var e=void 0===r?{}:r,n=e.priority,o=void 0===n?0:n,a=e.fps,s=void 0===a?Infinity:a;if("number"==typeof s)return this.framerates[s]||(this.framerates[s]=new i(s)),this.framerates[s].add({callback:t,priority:o})},r.remove=function(t,i){var r=(void 0===i?{}:i).fps,e=void 0===r?Infinity:r;"number"==typeof e&&this.framerates[e].remove(t)},r.patch=function(){var t=this;console.log("Tempus is taking over the rAf");var i=window.requestAnimationFrame,r=window.cancelAnimationFrame;window.requestAnimationFrame=function(r,e){var n=void 0===e?{}:e,o=n.priority,a=void 0===o?0:o,s=n.fps,f=void 0===s?Infinity:s;if(r===t.raf)return i(r);if(!r.patched){var c=t.add(r,{priority:a,fps:f});r.patched=!0,r.remove=c}return r.remove},window.cancelAnimationFrame=function(t){return"function"==typeof t&&(null==t||t()),r(t)}},t}(),e="undefined"!=typeof window&&new r;module.exports=e;
//# sourceMappingURL=tempus.js.map
